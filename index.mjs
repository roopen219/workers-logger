import{diary as r}from"diary";import{sprintf as t,compare as e}from"diary/utils";import{enable as o}from"diary";var a=(t,e,o)=>{const i=[];let m={};const f={},n=r(e||"",(r=>{i.push(r)}));return n.report=r=>{if("function"==typeof o)return o(i,{req:t,res:r,meta:m})},n.meta=(r,t)=>{m[r]=t},n.metaObj=r=>{m={...m,...r}},n.getMeta=()=>m,n.child=r=>(f[r]||(f[r]=a(t,r,o),f[r].metaObj(m)),f[r]),n.children=()=>Object.values(f),n};export{e as compare,o as enable,t as format,a as track};