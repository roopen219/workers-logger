const { diary:r } = require('diary');const { sprintf:t, compare:e } = require('diary/utils');const { enable:o } = require('diary');var a=(t,e,o)=>{const i=[];let m={};const f={},n=r(e||"",(r=>{i.push(r)}));return n.report=r=>{if("function"==typeof o)return o(i,{req:t,res:r,meta:m})},n.meta=(r,t)=>{m[r]=t},n.metaObj=r=>{m={...m,...r}},n.getMeta=()=>m,n.child=r=>(f[r]||(f[r]=a(t,r,o),f[r].metaObj(m)),f[r]),n.children=()=>Object.values(f),n};exports.compare=e;exports.enable=o;exports.format=t;exports.track=a;